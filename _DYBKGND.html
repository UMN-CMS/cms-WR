<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>WRanalysis: Estimate of the DY+Jets background using MC and collision data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">WRanalysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Estimate of the DY+Jets background using MC and collision data </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>First the DY MC must be normalized to data in the dilepton mass distribution. The DYtagandprobe sideband is used for this, and the scale factors are calculated automatically when the minitree validation script is run. If the MC or collision data being analyzed was not collected in 2015 using 74X, then the scale factors to correct for efficiency diffierences in the HEEP ID, electron trigger, and electron reco must be recomputed and updated in analysis.cpp. Follow the instructions on the Tag and Probe tool twiki to estimate these SFs. The inclusive (constant versus electron ET) SFs obtained from makeTree.py should be sufficient, but fitter.py should also be run to check the validity of each SF as a function of electron ET. These SFs should only be applied to dytagandprobe events, as is currently setup in analysis.cpp.</p>
<p><a href="https://twiki.cern.ch/twiki/bin/view/CMSPublic/ElectronTagAndProbe">https://twiki.cern.ch/twiki/bin/view/CMSPublic/ElectronTagAndProbe</a></p>
<p>Once the HLT, HEEP ID, and reco efficiency SFs have been updated, follow the instructions in <a class="el" href="VALIDATIONSCRIPTS_.html">Validation scripts</a> to run the minitree validation script, and save the dilepton mass based DY MC scale factors.</p>
<p>One the scale factors are calculated, process the optimal DY MC sample using analysis.cpp with signal region requirements and the MLL scale factors applied. In 2015, the optimal DY MC sample was the amcnlo inclusive DYJetsToLL sample, and this sample is processed by analysis.cpp by executing:</p>
<pre class="fragment">cd cmsWR/
voms-proxy-init --voms cms
make
./bin/analysis -c MuMu -m DYAMC --ignoreDyScaleFactors false &gt;&amp; dyAmcMuMuSignalRegion.txt &amp;
./bin/analysis -c EE -m DYAMC --ignoreDyScaleFactors false &gt;&amp; dyAmcEESignalRegion.txt &amp;
</pre><p>The two resulting .root files will have the four object mass distribution saved in a TTree named Tree_Iter0, in a branch named WR_mass. The distribution of all WR_mass values is the DYJets background estimate.</p>
<p>Go back to <a class="el" href="index.html">index</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 4 2016 15:56:43 for WRanalysis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>

#!/bin/bash
#all three arrays must have the same number of elements!
#datasets=(WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_800_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_1000_MNu_halfMWR_25ns_Nov13)
#channel=(eejj eejj)
#inputData=('/WRToNuEToEEJJ_MW-800_MNu-400_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-1000_MNu-500_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM')

datasets=(WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_1200_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_1400_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_1600_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_1800_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_2000_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_2200_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_2400_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_2600_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_2800_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_3000_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_3200_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_3600_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_3800_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_4000_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_4200_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_4400_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_4600_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_4800_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_5000_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_5200_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_5600_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_5800_MNu_halfMWR_25ns_Nov13  WRToEEJJ_RecoFullOfflineOrGenPtEtaDrToHLTEfficiency_MWR_6000_MNu_halfMWR_25ns_Nov13)
channel=(eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj eejj)
inputData=('/WRToNuEToEEJJ_MW-1200_MNu-600_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-1400_MNu-700_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-1600_MNu-800_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-1800_MNu-900_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-2000_MNu-1000_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-2200_MNu-1100_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-2400_MNu-1200_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-2600_MNu-1300_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-2800_MNu-1400_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-3000_MNu-1500_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-3200_MNu-1600_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-3600_MNu-1800_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-3800_MNu-1900_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-4000_MNu-2000_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-4200_MNu-2100_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-4400_MNu-2200_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-4600_MNu-2300_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-4800_MNu-2400_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-5000_MNu-2500_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-5200_MNu-2600_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-5600_MNu-2800_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-5800_MNu-2900_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM'  '/WRToNuEToEEJJ_MW-6000_MNu-3000_TuneCUETP8M1_13TeV-pythia8/RunIISpring15DR74-Asympt25ns_MCRUN2_74_V9-v1/MINIAODSIM')

for q in ${!datasets[*]}
do

		#replace SMPL with an element from datasets, CHNL with an element from channel, and INPTDATA with an element from inputData
		#in analyze_smpl_skims_chnl_crab.py
		#inputData, datasets, and channel have the same number of elements
		eval "sed 's/SMPL/${datasets[$q]}/g' analyze_smpl_skims_chnl_crab.py > analyze_smpl_skims_chnl_crab_one.py"
		eval "sed 's/CHNL/${channel[$q]}/g' analyze_smpl_skims_chnl_crab_one.py > analyze_smpl_skims_chnl_crab_two.py"
		eval "sed 's@INPTDATA@${inputData[$q]}@g' analyze_smpl_skims_chnl_crab_two.py > analyze_${datasets[$q]}_skims_${channel[$q]}_crab.py"
		rm analyze_smpl_skims_chnl_crab_one.py analyze_smpl_skims_chnl_crab_two.py
		
		#submit jobs to crab using the newly created crab skim .py file
		#echo "crab submit -c analyze_${datasets[$q]}_skims_${channel[$q]}_crab.py"
		eval "crab submit -c analyze_${datasets[$q]}_skims_${channel[$q]}_crab.py"
	
done



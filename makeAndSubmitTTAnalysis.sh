#!/bin/bash
#all input files to process
inputFiles=('root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_10_2_K9s.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_11_2_n9j.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_12_2_Jjo.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_13_2_WGG.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_14_2_8So.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_15_2_hhg.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_16_2_ltB.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_17_2_GWQ.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_18_2_GU1.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_19_2_ZXr.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_1_2_Ebe.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_20_2_dK5.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_21_2_zMB.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_22_2_xxx.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_23_2_t1T.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_24_2_6VU.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_25_2_i13.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_26_2_vM5.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_27_2_5dF.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_28_2_Eko.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_29_2_WsC.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_2_2_AFa.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_30_2_8cp.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_31_2_Q9v.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_32_2_4I4.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_33_1_Juk.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_34_2_Yo5.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_35_2_7wE.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_36_2_C8E.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_37_2_6Ck.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_38_1_wSb.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_39_2_oFG.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_3_2_qre.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_40_2_iUh.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_41_2_vYb.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_42_2_4Kn.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_43_2_ebG.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_44_2_TAg.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_45_2_1aF.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_46_2_78K.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_47_2_AUE.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_48_2_q4p.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_49_2_3xe.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_4_2_CVo.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_50_2_Fnx.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_51_2_Rwz.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_52_2_lma.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_53_2_guy.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_54_2_y7Q.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_55_2_CLA.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_56_2_GyH.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_57_2_bmj.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_58_2_x8V.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_59_2_qRW.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_5_2_TmO.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_60_2_6uE.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_6_2_UB3.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_7_2_jq3.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_8_2_nwG.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_9_2_C3A.root')
#inputFiles=('root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_10_2_K9s.root' 'root://eoscms.cern.ch//eos/cms/store/user/shervin/skims/TTJets_DiLept_v2_SHv12/TTJets_DiLept_v2_11_2_n9j.root')

#number used to distinguish different jobs
startingCount=1

for i in ${!inputFiles[*]}
do
	#replace NNN by a number and INPTFILE with a file path name from inputFiles in temp_runAnalysis_cfg.py
	eval "cd test"
	eval "sed 's@NNN@$startingCount@g' temp_runAnalysis_cfg.py > tempOne.py"
	eval "sed 's@INPTFILE@${inputFiles[$i]}@g' tempOne.py > runAnalysis_cfg_${startingCount}.py"
	rm tempOne.py
	eval "cd .."

	#replace NNN by a number in runAnalysisTTMC.sh
	eval "sed 's@NNN@$startingCount@g' runAnalysisTTMC.sh > runAnalysisTTMC_${startingCount}.sh"
	eval "chmod u+x runAnalysisTTMC_${startingCount}.sh"

	#submit the job to 1nh queue and request at least 2 GB of disk
	eval "bsub -R 'pool>2000' -q 1nh -J runAnalysisTTMCPart_${startingCount} < runAnalysisTTMC_${startingCount}.sh"
	
	let startingCount=startingCount+1
done

